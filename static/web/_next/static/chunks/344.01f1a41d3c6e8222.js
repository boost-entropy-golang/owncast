"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{20344:function(e,t,r){r.r(t),r.d(t,{EmojiPicker:function(){return s}});var c=r(85893),n=r(67294),o=r(57741);let s=e=>{let{onEmojiSelect:t,onCustomEmojiSelect:r}=e,[s,a]=(0,n.useState)([]),u=(0,n.useRef)(),i=async()=>{try{let e=await fetch("/api/emoji"),t=await e.json();a(t)}catch(e){console.error("cannot fetch custom emoji",e)}};return(0,n.useEffect)(()=>{i()},[]),(0,n.useEffect)(()=>{let e=s.map(e=>({emoji:e.name,label:e.name,url:e.url})),c=(0,o.wU)({rootElement:u.current,custom:e,initialCategory:"custom",showPreview:!1,showRecents:!0});c.addEventListener("emoji:select",e=>{e.url?r(e.label,e.url):t(e.emoji)})},[s]),(0,c.jsx)("div",{ref:u})}}}]);